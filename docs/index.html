<!DOCTYPE html>
<html>

<head>
    <title>dripfeed</title>
    <meta charset="UTF-8">
    <script>
        var baseUrl = 'https://dripfeed-app.azurewebsites.net/api/ExtractArticle';
        function addDrip(event) {
            event.preventDefault();

            var form = event.target;
            var url = form.url.value;
            var email = form.email.value;
            var wordLimit = form.wordLimit.value;
            var queryString = `?url=${url}&email=${email}&wordLimit=${wordLimit}`;

            var xhr = new XMLHttpRequest();
            const dripUrl = baseUrl + queryString;
            xhr.open('POST', dripUrl);
            xhr.addEventListener('load', function () { console.log(this.responseText); });
            xhr.send();

            return false;
        }
    </script>
    <style>
        #dripfeed {
            width: 320px;
            margin: 20% auto auto auto;
        }
        #dripfeed > * {
            margin: 10px;
            padding: 6px;
            width: 300px;
        }
        @media screen and (max-width: 1080px) {
            #dripfeed {
                width: 100%;
                margin: 20% auto auto auto;
            }
            #dripfeed > * {
                margin: 10px 5% 10px 5%;
                padding: 6px;
                width: 90%;
            }
            #dripfeed h1 {
                font-size: 5em;
            }
            #dripfeed input {
                font-size: 3em;
            }
        }
    </style>
</head>

<body>
    <form id="dripfeed" onsubmit="return addDrip(event);">
        <h1>dripfeed</h1>
        <input type="url" name="url" required autofocus placeholder="https://example.com" />
        <input type="email" name="email" required placeholder="user@example.com" />
        <input type="hidden" name="wordLimit" value="3000" />
        <input type="submit" name="submit" value="drip..." />
    </form>
</body>

</html>